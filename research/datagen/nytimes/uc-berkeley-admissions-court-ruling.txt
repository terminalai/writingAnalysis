The University of California, Berkeley, said it might have to accept thousands fewer students than planned after a state appellate court ruled that it had to keep enrollment at 2020-21 levels, when the pandemic led to an unusually low number of students at the university.

The decision, which would freeze student enrollment at 42,347, is the result of a legal battle with a residents’ group, Save Berkeley’s Neighborhoods, that has accused the university of failing to provide enough on-campus housing while at the same time admitting high numbers of students, many of them from out of state or other countries.

Freezing enrollment at that level means the university, already one of the nation’s most selective, would have 3,050 fewer seats for incoming first-year students and transfer students than it had planned for the fall of 2022. Typically, U.C. Berkeley said, it offers admission to about 21,000 first-year and transfer students and about 9,500 of them enroll.

The university, which notified applicants of the decision in an email on Monday, said in a statement that it stands to lose at least $57 million in tuition.

To stay at 2020-21 enrollment levels, the university said, it would need to make “a reduction of at least 5,100 in undergraduate admission offers.”

The University of California Board of Regents has appealed the case to the State Supreme Court in the hopes of avoiding “a calamitous scenario for our students and our campus,” the statement said.

“This court-mandated decrease in enrollment would be a tragic outcome for thousands of students who have worked incredibly hard to gain admission to Berkeley,” the university said.

The announcement stirred up anxiety among applicants, who worried that their chances of getting into U.C. Berkeley, the flagship school of the University of California system, had grown even slimmer.

“I don’t think it is fair, not only because it’s restricting people who really want to go to Berkley from being able to attend,” but also because it “lowers the amount of financial aid lower- and middle-income families can receive,” Kristina Sanchez, a senior at Downtown Magnets High School in Los Angeles, said in an interview.“And that leaves a lot of people, especially people in our school that aren’t the richest of the bunch, at a disadvantage,” she said.

Since 2005, U.C. Berkeley has admitted 14,000 students but provided only 1,600 beds, said Phil Bokovoy, president of Save Berkeley’s Neighborhoods, which sued the university in 2018.

As a result, students have sought housing in Berkeley’s neighborhoods, moving into apartments that were once rent-controlled and displacing low-income and middle-income residents, Mr. Bokovoy said.

“We’ve seen a massive amount of homelessness in Berkeley as a result,” he said. “It’s created a tremendous problem.”

Last August, Judge Brad Seligman of the Superior Court of Alameda County agreed with the group that the university “continued to increase and quickly exceeded” its enrollment projections.

He also said the university could not go forward with the Upper Hearst Project, a plan for new housing and academic space for faculty members, postdoctoral researchers and graduate students.

Save Berkeley’s Neighborhoods sued the university in 2019 to stop the project because it said the university had not provided enough information or assurances about how the project would alleviate the housing crisis or affect traffic, noise and other environmental concerns.

The Regents appealed Judge Seligman’s ruling last October.

On Feb. 10, an appellate court declined to order a stay on the lower court’s decision, meaning that the university would have to abide by the Superior Court’s order to freeze enrollment.

“The Regents have not shown that they ‘would suffer irreparable harm outweighing the harm that would be suffered by the other party,’” the appellate court said.

The appellate court also noted that lawyers for the university had waited three months to file an appeal.

“Other than to claim that either they or their counsel did not understand the nature of the judgment from which the appeal is taken, they offer no explanation for this lengthy delay,” the court stated.

In their appeal to the State Supreme Court on Monday, lawyers for the Regents requested an immediate stay and argued that freezing enrollment “would have a catastrophic impact on U.C. Berkeley’s ability to admit low-income, underrepresented students.”

The residents’ group said it was trying to avoid a housing crisis like the one at the University of California, Santa Barbara, where students have been forced to sleep in cars or hotels.

Mr. Bokovoy, who has lived in Berkeley since 1983, said his organization had repeatedly tried to meet with university officials to work out a solution outside of the courts but was rebuffed.

One idea would be for the university to sign a binding agreement with the city to not accept more students than it could house, he said.

“That’s all we’ve ever asked for from the beginning,” Mr. Bokovoy said. “But they’ve refused to sit down with us to talk about it.”

Dan Mogulof, a spokesman for the university, said that administrators have met with city leaders who support the university’s building plans.

He said that enrollment is not determined by U.C. Berkeley, but by the Regents and the Legislature, which has called on the state’s public universities to accept more students from California.

Mr. Mogulof said that the university’s efforts to build more housing have been stymied by lawsuits from community groups, a development he described as “ironic.”

“We are in the midst of a very aggressive and very expensive housing initiative, where we’re going to be constructing student housing on every university-owned piece of property,” Mr. Mogulof said. “It’s hard to proceed with that when you’re getting sued by the very people who say they want these projects.”